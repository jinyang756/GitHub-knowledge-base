<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>国泰海通证券知识库</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="国泰海通证券知识库 - 提供政策文档、行业研究、投资策略、风险控制和技术文档等内容">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  
  <!-- 基础样式 -->
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      line-height: 1.7;
      color: #333;
      background-color: #fff;
    }
  </style>
  
  <!-- 高级视觉效果样式 -->
  <link rel="stylesheet" href="styles/advanced-visuals.css">
  <!-- 视觉优化增强样式 -->
  <link rel="stylesheet" href="styles/visual-enhancements.css">
</head>
<body>
  <!-- 主容器 -->
  <div id="app"></div>
  
  <!-- docsify核心脚本 -->
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  
  <script>
    // 自定义插件函数
    function customPlugins(hook) {
      // 创建DOM元素的辅助函数
      const createElement = (tag, className, content = '', attributes = {}) => {
        const element = document.createElement(tag);
        if (className) element.className = className;
        if (content) element.innerHTML = content;
        Object.keys(attributes).forEach(key => {
          element.setAttribute(key, attributes[key]);
        });
        return element;
      };
      
      // 页面加载完成后执行的函数
      hook.ready(function() {
        // 添加页脚
        if (!document.querySelector('footer.footer-custom')) {
          const footer = createElement('footer', 'footer-custom', '<div class="footer-content">\n  <p>© 2024 国泰海通证券知识库 | <a href="https://www.gtsec.com" target="_blank">国泰海通证券官网</a></p>\n  <p>免责声明：本知识库内容仅供参考，不构成任何投资建议</p>\n</div>');
          Object.assign(footer.style, {
            textAlign: 'center',
            padding: '20px 0',
            color: '#666',
            fontSize: '14px',
            borderTop: '1px solid #eee',
            marginTop: '40px',
            zIndex: '100'
          });
          document.body.appendChild(footer);
        }
        
        // 添加返回顶部按钮
        if (!document.querySelector('#back-to-top')) {
          const backToTop = createElement('button', 'back-to-top', '↑', { id: 'back-to-top', title: '返回顶部' });
          Object.assign(backToTop.style, {
            position: 'fixed',
            bottom: '30px',
            right: '30px',
            width: '40px',
            height: '40px',
            borderRadius: '50%',
            backgroundColor: '#2563EB',
            color: 'white',
            border: 'none',
            cursor: 'pointer',
            display: 'none',
            boxShadow: '0 2px 10px rgba(0,0,0,0.1)',
            zIndex: '1000'
          });
          
          // 显示/隐藏返回顶部按钮
          window.addEventListener('scroll', function() {
            if (window.pageYOffset > 300) {
              backToTop.style.display = 'block';
            } else {
              backToTop.style.display = 'none';
            }
          });
          
          // 点击返回顶部
          backToTop.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          });
          
          document.body.appendChild(backToTop);
        }
      });
    }
    
    // 完整的docsify配置
    window.$docsify = {
      name: '国泰海通证券知识库',
      loadSidebar: true,
      subMaxLevel: 3,
      auto2top: true,
      coverpage: true,
      themeColor: '#2563EB',
      homepage: 'README.md',
      loadNavbar: true,
      // 移除可能导致文件访问问题的alias配置
      alias: {},
      // Markdown增强配置
      markdown: {
        smartypants: true,
        breaks: true,
        tables: true,
        headerIds: true,
        auto2top: true
      },
      // 搜索插件配置
      search: {
        maxAge: 86400000,
        paths: 'auto',
        placeholder: '搜索知识库',
        noData: '没有找到相关内容',
        depth: 6,
        hideOtherSidebarContent: true
      },
      // 代码复制功能
      copyCode: {
        buttonText: '复制',
        errorText: '错误',
        successText: '已复制'
      },
      // 集成自定义插件
      plugins: [
        customPlugins
      ]
    };
  </script>
  
  <!-- 添加搜索插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  
  <!-- 添加代码复制功能 -->
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  
  <!-- 添加MathJax支持数学公式渲染 -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
  <script>
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
  </script>
  
  <!-- 高级视觉效果脚本 -->
  <script src="scripts/advanced-visuals.js"></script>
  <!-- 视觉优化增强脚本 -->
  <script src="scripts/visual-enhancements.js"></script>
</body>
</html>
