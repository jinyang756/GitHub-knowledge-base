<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <title>国泰海通证券知识库</title>
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta name="description" content="国泰海通证券知识库 - 专业金融知识分享平台">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify@4/lib/themes/vue.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  
  <!-- 自定义CSS样式 -->
  <style>
    /* CSS变量定义 - 方便主题调整 */
    :root {
      --primary-color: #0F52BA; /* 国泰海通蓝色 */
      --secondary-color: #D4AF37; /* 金色 */
      --text-color: #34495e;
      --heading-color: #2c3e50;
      --sidebar-width: 280px;
      --code-font: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
    }
    
    /* 暗黑模式支持 */
    @media (prefers-color-scheme: dark) {
      :root {
        --primary-color: #1a73e8;
        --text-color: #e0e0e0;
        --heading-color: #ffffff;
      }
    }
    
    /* 全局样式重置 */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }
    
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      line-height: 1.6;
      color: var(--text-color);
      background-color: #f5f5f7;
      background-image: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      background-attachment: fixed;
    }
    
    /* 底层背景渐变和几何纹理 */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: radial-gradient(circle at 25% 25%, rgba(255, 255, 255, 0.1) 0%, transparent 50%);
      z-index: -1;
    }
    
    /* 主容器样式 */
    .app-container {
      position: relative;
      min-height: 100vh;
    }
    
    /* 页头氛围渐变图层 */
    .app-header-gradient {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 120px;
      background: linear-gradient(135deg, var(--primary-color) 0%, #3B82F6 100%);
      opacity: 0.9;
      z-index: -1;
      filter: blur(30px);
      transform: translateY(-50%);
    }
    
    /* 顶部导航栏 */
    .navbar {
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      padding: 0.8rem 1.5rem;
      border-bottom: 1px solid #e1e5e9;
      position: sticky;
      top: 0;
      z-index: 100;
    }
    
    /* 主内容区域布局 */
    .main-layout {
      display: flex;
      min-height: calc(100vh - 70px);
    }
    
    /* 侧边框架 */
    .sidebar {
      width: var(--sidebar-width);
      background-color: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(10px);
      border-right: 1px solid #e1e5e9;
      padding: 1.5rem 0;
      transition: transform 0.3s ease;
      position: fixed;
      height: 100vh;
      overflow-y: auto;
      z-index: 99;
    }
    
    /* 侧边栏遮罩层 - 移动设备 */
    .sidebar-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.5);
      z-index: 98;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }
    
    .sidebar-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    
    /* 侧边栏层级设计 */
    .sidebar-nav {
      padding: 0 1rem;
    }
    
    /* 侧边栏图标样式 */
    .sidebar-nav a {
      display: flex;
      align-items: center;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      transition: all 0.2s ease;
      color: var(--text-color);
      text-decoration: none;
    }
    
    .sidebar-nav a:hover {
      background-color: rgba(15, 82, 186, 0.08);
      color: var(--primary-color);
    }
    
    /* 激活的侧边栏项目 */
    .sidebar-nav li.active > a {
      background-color: rgba(15, 82, 186, 0.15);
      color: var(--primary-color);
      font-weight: 500;
      border-left: 3px solid var(--primary-color);
      padding-left: calc(1rem - 3px);
    }
    
    /* 二级菜单样式 */
    .sidebar-nav ul ul {
      margin-left: 0.5rem;
      margin-top: 0.25rem;
    }
    
    .sidebar-nav ul ul a {
      font-size: 0.9rem;
    }
    
    /* 主框架内容区 */
    .main-content {
      flex: 1;
      margin-left: var(--sidebar-width);
      padding: 2rem;
      transition: margin-left 0.3s ease;
    }
    
    /* 内容卡片 */
    .markdown-section {
      max-width: 900px;
      margin: 0 auto;
      background-color: rgba(255, 255, 255, 0.95);
      border-radius: 12px;
      padding: 2rem;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
      backdrop-filter: blur(10px);
    }
    
    /* 首页特定样式 */
    .markdown-section.home-page {
      background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.9) 100%);
      border: 1px solid rgba(255, 255, 255, 0.3);
    }
    
    /* 首页搜索区域样式增强 */
    .markdown-section.home-page .search {
      margin: 2rem 0;
      text-align: center;
    }
    
    /* 首页核心内容样式优化 */
    .markdown-section.home-page h1 {
      color: var(--primary-color);
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    
    .markdown-section.home-page h2 {
      color: var(--secondary-color);
      text-align: center;
      font-size: 1.5rem;
      margin-bottom: 2rem;
      font-weight: 400;
    }
    
    /* 快速导航样式增强 */
    .quick-nav {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 1rem;
      margin: 2rem 0;
    }
    
    .quick-nav a {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.5rem;
      background-color: rgba(15, 82, 186, 0.08);
      color: var(--primary-color);
      border-radius: 25px;
      text-decoration: none;
      transition: all 0.2s ease;
      font-weight: 500;
      border: 1px solid rgba(15, 82, 186, 0.1);
    }
    
    .quick-nav a:hover {
      background-color: rgba(15, 82, 186, 0.15);
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(15, 82, 186, 0.15);
    }
    
    /* 内容区装饰角 */
    .markdown-section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 50px;
      height: 50px;
      border-top: 3px solid var(--primary-color);
      border-left: 3px solid var(--primary-color);
      border-radius: 12px 0 0 0;
    }
    
    .markdown-section::after {
      content: '';
      position: absolute;
      bottom: 0;
      right: 0;
      width: 50px;
      height: 50px;
      border-bottom: 3px solid var(--primary-color);
      border-right: 3px solid var(--primary-color);
      border-radius: 0 0 12px 0;
    }
    
    /* Markdown内容样式 */
    .markdown-section h1, .markdown-section h2, .markdown-section h3, .markdown-section h4, .markdown-section h5, .markdown-section h6 {
      color: var(--heading-color);
      margin-top: 2rem;
      margin-bottom: 1rem;
      font-weight: 600;
    }
    
    .markdown-section h1 {
      font-size: 2rem;
      padding-bottom: 0.5rem;
      border-bottom: 2px solid #eaecef;
    }
    
    .markdown-section h2 {
      font-size: 1.5rem;
      padding-bottom: 0.3rem;
      border-bottom: 1px solid #eaecef;
    }
    
    .markdown-section p {
      margin-bottom: 1rem;
    }
    
    /* 表格样式 */
    .markdown-section table {
      width: 100%;
      border-collapse: collapse;
      margin: 1.5rem 0;
    }
    
    .markdown-section th {
      background-color: rgba(15, 82, 186, 0.1);
      color: var(--primary-color);
      font-weight: 600;
    }
    
    .markdown-section th, .markdown-section td {
      padding: 0.75rem;
      border: 1px solid #eaecef;
      text-align: left;
    }
    
    .markdown-section tr:nth-child(even) {
      background-color: rgba(0, 0, 0, 0.02);
    }
    
    /* 标签样式 */
    .markdown-section code {
      font-family: var(--code-font);
      background-color: #f1f1f1;
      padding: 0.2rem 0.4rem;
      border-radius: 4px;
      font-size: 0.9em;
    }
    
    .markdown-section pre {
      background-color: #f8f8f8;
      padding: 1rem;
      border-radius: 8px;
      overflow-x: auto;
      margin: 1.5rem 0;
      border: 1px solid #eaecef;
    }
    
    .markdown-section pre > code {
      background-color: transparent;
      padding: 0;
    }
    
    /* 页脚样式 */
    .footer-custom {
      background-color: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 2rem;
      text-align: center;
      border-top: 1px solid #e1e5e9;
      margin-left: var(--sidebar-width);
      transition: margin-left 0.3s ease;
    }
    
    .footer-content p {
      margin-bottom: 0.5rem;
      color: #666;
      font-size: 0.9rem;
    }
    
    .footer-content a {
      color: var(--primary-color);
      text-decoration: none;
      transition: color 0.2s ease;
    }
    
    .footer-content a:hover {
      color: var(--secondary-color);
      text-decoration: underline;
    }
    
    /* 侧边栏切换按钮容器 */
    .sidebar-toggle-container {
      position: fixed;
      left: 1rem;
      top: 1rem;
      z-index: 101;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
    }
    
    /* 侧边栏切换按钮 */
    .sidebar-toggle {
      width: 40px;
      height: 40px;
      background-color: rgba(255, 255, 255, 0.95);
      border: 1px solid #ddd;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.25rem;
      color: var(--primary-color);
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
      backdrop-filter: blur(10px);
    }
    
    .sidebar-toggle:hover {
      background-color: var(--primary-color);
      color: white;
      transform: scale(1.1);
    }
    
    /* 切换按钮文字说明 */
    .toggle-text {
      background-color: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease, visibility 0.2s ease;
      white-space: nowrap;
    }
    
    .sidebar-toggle-container:hover .toggle-text {
      opacity: 1;
      visibility: visible;
    }
    
    /* 返回顶部按钮容器 */
    .back-to-top-container {
      position: fixed;
      bottom: 2rem;
      right: 2rem;
      z-index: 99;
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 0.25rem;
    }
    
    /* 返回顶部按钮 */
    #back-to-top {
      width: 50px;
      height: 50px;
      background-color: rgba(15, 82, 186, 0.9);
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      color: white;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 4px 12px rgba(15, 82, 186, 0.3);
      opacity: 0;
      visibility: hidden;
      backdrop-filter: blur(10px);
    }
    
    body.show-back-to-top #back-to-top {
      opacity: 1;
      visibility: visible;
    }
    
    #back-to-top:hover {
      background-color: var(--primary-color);
      transform: translateY(-3px);
      box-shadow: 0 6px 16px rgba(15, 82, 186, 0.4);
    }
    
    /* 返回顶部按钮文字说明 */
    .back-to-top-text {
      background-color: rgba(0, 0, 0, 0.8);
      color: white;
      padding: 0.25rem 0.5rem;
      border-radius: 4px;
      font-size: 0.8rem;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.2s ease, visibility 0.2s ease;
      white-space: nowrap;
    }
    
    .back-to-top-text.show-tooltip {
      opacity: 1;
      visibility: visible;
    }
    
    /* 修复侧边栏样式 */
    .app { position: relative; }
    
    /* 响应式设计 - 大屏幕 */
    @media (max-width: 1024px) {
      :root {
        --sidebar-width: 250px;
      }
      
      .markdown-section {
        padding: 1.5rem;
      }
    }
    
    /* 响应式设计 - 小屏幕 */
    @media (max-width: 768px) {
      .sidebar {
        transform: translateX(-100%);
        width: 280px;
      }
      
      .sidebar.open {
        transform: translateX(0);
      }
      
      .sidebar.open ~ .main-content {
        margin-left: 0;
      }
      
      /* 侧边栏打开时给主内容添加遮罩 */
      .sidebar.open ~ .main-content::after {
        content: '';
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.5);
        z-index: 99;
      }
      
      .main-content {
        margin-left: 0;
        padding: 1.5rem 1rem;
      }
      
      .navbar {
        padding: 1rem;
      }
      
      .navbar > div > a {
        margin-right: 1rem;
        font-size: 0.9rem;
      }
      
      .markdown-section {
        padding: 1.25rem;
      }
      
      .footer-custom {
        padding: 1.5rem 1rem;
      }
    }
    
    @media (max-width: 480px) {
      .sidebar.open {
        width: 240px;
      }
      
      .markdown-section {
        padding: 1rem;
      }
      
      .footer-content p {
        font-size: 0.85rem;
      }
    }
  </style>
</head>
<body>
  <!-- 主容器 -->
  <div id="app"></div>
  
  <!-- 定义docsify配置和插件 -->
  <script>
    // MathJax配置
    window.MathJax = {
      tex: {
        inlineMath: [['$', '$'], ['\\(', '\\)']],
        displayMath: [['$$', '$$'], ['\\[', '\\]']]
      }
    };
    
    // 自定义插件函数
    function customPlugins(hook) {
      // 创建DOM元素的辅助函数
      const createElement = (tag, className, content = '', attributes = {}) => {
        const element = document.createElement(tag);
        if (className) element.className = className;
        if (content) element.innerHTML = content;
        Object.keys(attributes).forEach(key => {
          element.setAttribute(key, attributes[key]);
        });
        return element;
      };
      
      // 增强的设备检测函数
      function detectDevice() {
        const isMobile = (
          /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent) ||
          window.innerWidth <= 768 ||
          window.matchMedia('(max-width: 768px)').matches
        );
        
        const isTablet = (
          !isMobile && 
          window.innerWidth <= 1024 &&
          window.matchMedia('(max-width: 1024px)').matches
        );
        
        return {
          isMobile, 
          isTablet,
          isDesktop: !isMobile && !isTablet,
          orientation: window.innerWidth > window.innerHeight ? 'landscape' : 'portrait'
        };
      }
      
      hook.mounted(function() {
        // 检查是否已存在切换按钮容器
        let toggleContainer = document.querySelector('.sidebar-toggle-container');
        let toggleBtn = document.querySelector('.sidebar-toggle');
        let toggleText = document.querySelector('.toggle-text');
        
        // 如果没有容器，创建容器
        if (!toggleContainer) {
          toggleContainer = document.createElement('div');
          toggleContainer.className = 'sidebar-toggle-container';
          document.body.appendChild(toggleContainer);
        }
        
        // 如果没有按钮，创建按钮并添加到容器
        if (!toggleBtn) {
          toggleBtn = document.createElement('button');
          toggleBtn.className = 'sidebar-toggle';
          toggleBtn.innerHTML = '≡';
          toggleBtn.title = '切换菜单';
          toggleContainer.appendChild(toggleBtn);
        } else if (toggleBtn.parentNode !== toggleContainer) {
          // 如果按钮存在但不在容器中，移动到容器
          toggleContainer.appendChild(toggleBtn);
        }
        
        // 如果没有文字说明，创建并添加到容器
        if (!toggleText) {
          toggleText = document.createElement('div');
          toggleText.className = 'toggle-text';
          toggleText.textContent = '目录菜单';
          toggleContainer.appendChild(toggleText);
        } else if (toggleText.parentNode !== toggleContainer) {
          // 如果文字说明存在但不在容器中，移动到容器
          toggleContainer.appendChild(toggleText);
        }
        
        // 获取CSS动画兼容样式
        function getTransformStyle(value) {
          // IE11兼容性处理
          return {
            transform: value,
            msTransform: value,
            WebkitTransform: value
          };
        }
        
        // 初始化布局
        const initLayout = () => {
          const sidebar = document.querySelector('.sidebar');
          const mainContent = document.querySelector('.main-content');
          
          if (sidebar && mainContent) {
            const device = detectDevice();
            
            // 统一设置侧边栏样式
            sidebar.style.width = '280px';
            sidebar.style.position = 'fixed';
            sidebar.style.height = '100vh';
            sidebar.style.top = '0';
            sidebar.style.left = '0';
            sidebar.style.zIndex = '99';
            sidebar.style.overflowY = 'auto';
            
            // 根据设备类型和方向调整布局
            if (device.isMobile) {
              mainContent.style.marginLeft = '0';
              // 在移动设备上默认隐藏侧边栏
              if (!sidebar.classList.contains('open')) {
                Object.assign(sidebar.style, getTransformStyle('translateX(-100%)'));
              }
            } else if (device.isTablet) {
              // 平板设备根据横竖屏调整
              if (device.orientation === 'portrait') {
                mainContent.style.marginLeft = '0';
                if (!sidebar.classList.contains('open')) {
                  Object.assign(sidebar.style, getTransformStyle('translateX(-100%)'));
                }
              } else {
                mainContent.style.marginLeft = '280px';
                sidebar.classList.add('open');
                Object.assign(sidebar.style, getTransformStyle('translateX(0)'));
              }
            } else {
              // 桌面设备显示侧边栏
              mainContent.style.marginLeft = '280px';
              sidebar.classList.add('open');
              Object.assign(sidebar.style, getTransformStyle('translateX(0)'));
            }
            
            // 始终显示侧边栏按钮
            toggleBtn.style.display = 'flex';
          }
        };
        
        // 点击事件处理
        toggleBtn.onclick = function() {
          const sidebar = document.querySelector('.sidebar');
          const device = detectDevice();
          
          if (sidebar) {
            sidebar.classList.toggle('open');
            toggleBtn.innerHTML = sidebar.classList.contains('open') ? '×' : '≡';
            
            // 点击按钮时的视觉反馈 - 兼容性更强的实现
            Object.assign(toggleBtn.style, getTransformStyle('scale(0.9)'));
            setTimeout(() => {
              Object.assign(toggleBtn.style, getTransformStyle('scale(1)'));
            }, 100);
            
            // 根据状态调整侧边栏位置
            Object.assign(sidebar.style, getTransformStyle(
              sidebar.classList.contains('open') ? 'translateX(0)' : 'translateX(-100%)'
            ));
            
            // 添加遮罩层（移动设备和竖屏平板）
            if (device.isMobile || (device.isTablet && device.orientation === 'portrait')) {
              let overlay = document.querySelector('.sidebar-overlay');
              if (!overlay) {
                overlay = document.createElement('div');
                overlay.className = 'sidebar-overlay';
                overlay.onclick = () => {
                  sidebar.classList.remove('open');
                  toggleBtn.innerHTML = '≡';
                  Object.assign(sidebar.style, getTransformStyle('translateX(-100%)'));
                  overlay.classList.remove('active');
                };
                document.body.appendChild(overlay);
              }
              overlay.classList.toggle('active', sidebar.classList.contains('open'));
            }
          }
        };
        
        // 初始化
        initLayout();
        
        // 监听窗口大小变化和方向变化
        window.addEventListener('resize', initLayout);
        window.addEventListener('orientationchange', initLayout);
        
        // ESC键关闭侧边栏
        document.addEventListener('keydown', function(e) {
          const sidebar = document.querySelector('.sidebar');
          if (e.key === 'Escape' && sidebar && sidebar.classList.contains('open')) {
            sidebar.classList.remove('open');
            toggleBtn.innerHTML = '≡';
            Object.assign(sidebar.style, getTransformStyle('translateX(-100%)'));
          }
        });
        
        return toggleBtn;
      });
      
      // 初始化侧边栏切换按钮
      function setupSidebarToggle() {
        // 检查是否已存在返回顶部按钮
        const backToTopBtn = document.querySelector('#back-to-top');
        let backToTopText = document.querySelector('.back-to-top-text');
        
        if (!backToTopBtn) {
          // 返回顶部按钮已经在HTML中定义，这里只做增强
        }
        
        // 添加返回顶部按钮文字说明
        if (!backToTopText) {
          backToTopText = document.createElement('div');
          backToTopText.className = 'back-to-top-text';
          backToTopText.textContent = '返回顶部';
          document.body.appendChild(backToTopText);
        }
        
        // 添加鼠标悬停事件监听器，直接控制文字显示
        if (backToTopBtn) {
          backToTopBtn.addEventListener('mouseenter', function() {
            backToTopText.classList.add('show-tooltip');
          });
          
          backToTopBtn.addEventListener('mouseleave', function() {
            backToTopText.classList.remove('show-tooltip');
          });
        }
      }
      
      setupSidebarToggle();
      
      // 页面加载完成后执行的函数
      hook.ready(function() {
        // 确保页面加载时正确设置侧边栏状态
        setTimeout(() => {
          const sidebar = document.querySelector('.sidebar');
          const toggleBtn = document.querySelector('.sidebar-toggle');
          
          if (sidebar && toggleBtn) {
            // 检查当前窗口大小，设置初始状态
            if (window.innerWidth > 768) {
              sidebar.classList.add('open');
              toggleBtn.style.display = 'flex'; // 始终显示侧边栏按钮
              sidebar.style.transform = 'translateX(0)';
            } else {
              sidebar.classList.remove('open');
              toggleBtn.style.display = 'flex';
              sidebar.style.transform = 'translateX(-100%)';
            }
          }
        }, 100);
        
        // 添加页脚 - 增强版，确保只创建一个页脚
        // 先检查是否已存在页脚元素
        let existingFooter = document.querySelector('footer.footer-custom');
        
        // 如果存在，先移除所有重复的页脚元素
        if (existingFooter) {
          // 获取所有页脚元素
          const allFooters = document.querySelectorAll('footer');
          // 只保留第一个页脚，移除其他所有页脚
          allFooters.forEach((footer, index) => {
            if (index > 0) {
              footer.remove();
            }
          });
        } else {
          // 如果不存在，创建新的页脚
          const footer = createElement('footer', 'footer-custom', `
            <div class="footer-content">
              <p>© 2024 国泰海通证券知识库</p>
              <p>免责声明：本知识库内容仅供参考，不构成任何投资建议</p>
              <p>
                <a href="#" target="_blank">话术平台</a> | 
                <a href="#" target="_blank">模拟炒股平台</a> | 
                <a href="#" target="_blank">九州旗舰店</a> | 
                <a href="#" target="_blank">Telegram社区</a> | 
                <a href="#" target="_blank">语音服务</a> | 
                <a href="#" target="_blank">字幕移除工具</a> |
                <a href="https://convertio.co/zh/" target="_blank">Convertio文件转换工具</a>
              </p>
            </div>
          `);
          document.body.appendChild(footer);
          // 确保页脚在DOM中的正确位置
          setTimeout(() => {
            const appElement = document.querySelector('#app');
            if (appElement && footer && footer.parentNode === document.body) {
              // 将页脚移到主容器之后
              appElement.after(footer);
            }
          }, 100);
        }
        
        // 检查是否已存在返回顶部按钮容器
        let backToTopContainer = document.querySelector('.back-to-top-container');
        let backToTopBtn = document.querySelector('#back-to-top');
        let backToTopText = document.querySelector('.back-to-top-text');
        
        // 如果没有容器，创建容器
        if (!backToTopContainer) {
          backToTopContainer = document.createElement('div');
          backToTopContainer.className = 'back-to-top-container';
          document.body.appendChild(backToTopContainer);
        }
        
        // 如果没有按钮，创建按钮并添加到容器
        if (!backToTopBtn) {
          backToTopBtn = createElement('button', '', '↑', { id: 'back-to-top', title: '返回顶部' });
          backToTopContainer.appendChild(backToTopBtn);
          
          // 点击返回顶部
          backToTopBtn.addEventListener('click', function() {
            window.scrollTo({ top: 0, behavior: 'smooth' });
          });
        } else if (backToTopBtn.parentNode !== backToTopContainer) {
          // 如果按钮存在但不在容器中，移动到容器
          backToTopContainer.appendChild(backToTopBtn);
        }
        
        // 如果没有文字说明，创建并添加到容器
        if (!backToTopText) {
          backToTopText = document.createElement('div');
          backToTopText.className = 'back-to-top-text';
          backToTopText.textContent = '返回顶部';
          backToTopContainer.appendChild(backToTopText);
        } else if (backToTopText.parentNode !== backToTopContainer) {
          // 如果文字说明存在但不在容器中，移动到容器
          backToTopContainer.appendChild(backToTopText);
        }
        
        // 显示/隐藏返回顶部按钮
        window.addEventListener('scroll', function() {
          if (window.pageYOffset > 300) {
            document.body.classList.add('show-back-to-top');
          } else {
            document.body.classList.remove('show-back-to-top');
          }
        });
        
        // 优化布局处理，避免与docsify默认布局冲突
        const app = document.querySelector('#app');
        const sidebar = document.querySelector('.sidebar');
        const mainContent = document.querySelector('.main-content');
        
        // 仅当页面结构不完整时才进行修复
        if (app && !sidebar && !mainContent) {
          // 创建侧边栏和主内容区域，避免重复加载
          const sidebarElement = document.createElement('aside');
          sidebarElement.className = 'sidebar';
          
          const mainContentElement = document.createElement('main');
          mainContentElement.className = 'main-content';
          
          // 移动现有的markdown内容到主内容区域
          const markdownContent = document.querySelector('.markdown-section');
          if (markdownContent) {
            mainContentElement.appendChild(markdownContent);
          }
          
          // 清空并重建app内容
          app.innerHTML = '';
          app.appendChild(sidebarElement);
          app.appendChild(mainContentElement);
        }
        
        // 确保侧边栏内容只加载一次
        const sidebarNav = document.querySelector('.sidebar-nav');
        if (sidebar && !sidebarNav) {
          const nav = document.createElement('nav');
          nav.className = 'sidebar-nav';
          sidebar.appendChild(nav);
        }
        
        // 增强侧边栏显示 - 添加标题和图标
        setTimeout(() => {
          // 首先检查是否已添加过标题
          const sidebarNav = document.querySelector('.sidebar-nav');
          const existingTitle = document.querySelector('.sidebar-title');
          
          // 如果侧边栏导航存在且尚未添加标题，则添加"知识库目录"标题
          if (sidebarNav && !existingTitle) {
            const titleDiv = document.createElement('div');
            titleDiv.className = 'sidebar-title';
            titleDiv.style.padding = '10px 15px';
            titleDiv.style.fontSize = '16px';
            titleDiv.style.fontWeight = 'bold';
            titleDiv.style.color = '#0F52BA';
            titleDiv.style.borderBottom = '2px solid #D4AF37';
            titleDiv.style.marginBottom = '10px';
            titleDiv.style.textAlign = 'center';
            titleDiv.textContent = '知识库目录';
            
            // 将标题添加到侧边栏导航的最前面
            if (sidebarNav.firstChild) {
              sidebarNav.insertBefore(titleDiv, sidebarNav.firstChild);
            } else {
              sidebarNav.appendChild(titleDiv);
            }
          }
          
          const sidebarItems = document.querySelectorAll('.sidebar-nav > ul > li > a');
          
          // 定义图标映射
          const iconClasses = [
            'fas fa-home',
            'fas fa-file-alt',
            'fas fa-landmark',
            'fas fa-chart-line',
            'fas fa-chess',
            'fas fa-exclamation-triangle',
            'fas fa-tools',
            'fas fa-star'
          ];
          
          // 逐个处理侧边栏项，保留原链接功能
          sidebarItems.forEach((item, index) => {
            if (index < iconClasses.length) {
              // 获取原始文本内容
              const originalText = item.textContent || item.innerText;
              
              // 移除可能存在的emoji图标
              const cleanText = originalText.replace(/[\u{1F300}-\u{1F6FF}\u{1F900}-\u{1F9FF}\u{2600}-\u{26FF}\u{2700}-\u{27BF}]/gu, '').trim();
              
              // 创建新的图标元素
              const iconElement = document.createElement('i');
              iconElement.className = iconClasses[index];
              
              // 清空并重新构建元素内容，但保留原有属性和事件监听器
              while (item.firstChild) {
                item.removeChild(item.firstChild);
              }
              
              item.appendChild(iconElement);
              const textNode = document.createTextNode(' ' + cleanText);
              item.appendChild(textNode);
            }
          });
        }, 500); // 增加延迟时间，确保DOM完全加载
      });
    }
    
    // 完整的docsify配置
    window.$docsify = {
      name: '国泰海通证券知识库',
      loadSidebar: true,
      subMaxLevel: 3,
      auto2top: true,
      coverpage: false, // 禁用封面页，使用README.md作为首页
      themeColor: '#0F52BA',
      homepage: 'README.md',
      loadNavbar: false,
      
      // 避免缓存问题
      noCache: true,
      
      // 路径别名配置 - 增强版
      alias: {
        "技术/热门指标公式集/": "技术/热门指标公式集完整.md",
        "热门指标公式集/": "技术/热门指标公式集完整.md",
        "技术/热门指标公式集": "技术/热门指标公式集完整.md",
        "热门指标公式集": "技术/热门指标公式集完整.md",
        // 添加更多通用别名确保路径匹配
        "README": "README.md",
        "readme": "README.md"
      },
      
      // Markdown增强配置
      markdown: {
        smartypants: true,
        breaks: true,
        tables: true,
        headerIds: true,
        auto2top: true
      },
      
      // 搜索插件配置
      search: {
        maxAge: 86400000,
        paths: 'auto',
        placeholder: '搜索知识库',
        noData: '没有找到相关内容',
        depth: 6,
        hideOtherSidebarContent: true
      },
      
      // 代码复制功能
      copyCode: {
        buttonText: '复制',
        errorText: '错误',
        successText: '已复制'
      },
      
      // 集成自定义插件
      plugins: [
        customPlugins,
        // 增强首页显示的自定义插件
        function(hook) {
          hook.ready(function() {
            // 确保首页内容完全加载后应用样式
            setTimeout(function() {
              const homeContent = document.querySelector('.markdown-section');
              if (homeContent && (window.location.pathname === '/' || 
                  window.location.pathname.endsWith('/') || 
                  window.location.pathname.includes('README'))) {
                // 为首页添加额外的样式类
                homeContent.classList.add('home-page');
              }
            }, 100);
          });
        }
      ]
    };
  </script>
  
  <!-- docsify核心脚本 -->
  <script src="https://cdn.jsdelivr.net/npm/docsify@4"></script>
  
  <!-- 添加搜索插件 -->
  <script src="//cdn.jsdelivr.net/npm/docsify/lib/plugins/search.min.js"></script>
  
  <!-- 添加代码复制功能 -->
  <script src="//cdn.jsdelivr.net/npm/docsify-copy-code/dist/docsify-copy-code.min.js"></script>
  
  <!-- 添加MathJax支持数学公式渲染 -->
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

  </body>
</html>
